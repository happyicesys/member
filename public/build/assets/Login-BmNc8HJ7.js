import{l as C,g as B,m as $,o as l,h as m,T as N,r as U,f as S,c as g,w as y,a,u as o,Z as j,b as s,t as b,j as h,v as L,i as _,F as k,d as V,k as P,e as O}from"./app-B0oCjuhv.js";/* empty css                                                                        */import{G as q}from"./GuestLayout-DReFUauM.js";import{_ as w,b as v,a as I}from"./TextInput-BwZOgGTG.js";import"./ResponsiveNavLink-mXr6_UCe.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const E=["value"],F={__name:"Checkbox",props:{checked:{type:[Array,Boolean],required:!0},value:{default:null}},emits:["update:checked"],setup(u,{emit:p}){const t=p,f=u,c=C({get(){return f.checked},set(d){t("update:checked",d)}});return(d,r)=>B((l(),m("input",{type:"checkbox",value:u.value,"onUpdate:modelValue":r[0]||(r[0]=e=>c.value=e),class:"rounded border-gray-300 text-indigo-600 shadow-sm focus:ring-indigo-500"},null,8,E)),[[$,c.value]])}},M={key:0,class:"mb-2 text-sm font-medium text-green-600"},G=["value"],R={class:"mt-4"},D={class:"mt-2 grid grid-cols-6 gap-2"},T={class:"block mt-4"},A={class:"flex items-center"},Z={class:"mt-4 flex items-center justify-between"},X={__name:"Login",props:{countryOptions:Object,canResetPassword:{type:Boolean},status:{type:String}},setup(u){const p=u,t=N({country_id:"",phone_number:"",passwordParts:["","","","","",""],remember:!1}),f=r=>{if(t.passwordParts[r].length===1&&r<t.passwordParts.length-1){const e=document.getElementById(`password_${r+1}`);e&&e.focus()}else if(t.passwordParts[r].length===0&&r>0){const e=document.getElementById(`password_${r-1}`);e&&e.focus()}},c=()=>{t.post(route("login"),{onFinish:()=>t.reset("password")})},d=U([]);return S(()=>{d.value=p.countryOptions.data,t.country_id=d.value.filter(r=>r.is_default)[0].id}),(r,e)=>(l(),g(q,null,{default:y(()=>[a(o(j),{title:"Log in"}),e[8]||(e[8]=s("section",{class:"text-white rounded my-2 md:w-4/6 mx-auto py-5"},[s("img",{src:"/images/icon.png",alt:"Vion Icon",class:"w-1/3 lg:w-1/6 rounded mx-auto"})],-1)),u.status?(l(),m("div",M,b(u.status),1)):h("",!0),s("form",{onSubmit:O(c,["prevent"]),class:"space-y-4 lg:w-3/12 mx-auto mb-10 px-2"},[s("div",null,[a(w,{for:"country_id",value:"Country Code"}),B(s("select",{id:"country_id",class:"mt-1 block w-full select2 rounded text-gray-600","onUpdate:modelValue":e[0]||(e[0]=n=>o(t).country_id=n),required:""},[e[3]||(e[3]=s("option",{value:"",disabled:""},"Select Country",-1)),(l(!0),m(k,null,_(d.value,n=>(l(),m("option",{key:n.id,value:n.id},b(n.phone_code)+" ("+b(n.name)+") ",9,G))),128))],512),[[L,o(t).country_id]]),a(v,{class:"mt-2",message:o(t).errors.country_id},null,8,["message"])]),s("div",null,[a(w,{for:"phone_number",value:"Phone Number"}),a(I,{id:"phone_number",type:"text",class:"mt-1 block w-full",modelValue:o(t).phone_number,"onUpdate:modelValue":e[1]||(e[1]=n=>o(t).phone_number=n),required:"",placeholder:"Enter your phone number"},null,8,["modelValue"]),a(v,{class:"mt-2",message:o(t).errors.phone_number},null,8,["message"])]),s("div",R,[a(w,{for:"password",value:"Password (6-digit PIN)"}),s("div",D,[(l(!0),m(k,null,_(o(t).passwordParts,(n,i)=>(l(),g(I,{key:i,id:"password_"+i,class:"block w-14 text-center px-2 py-3 border rounded-md focus:ring focus:ring-indigo-500 focus:ring-opacity-50",maxlength:"1",modelValue:o(t).passwordParts[i],"onUpdate:modelValue":x=>o(t).passwordParts[i]=x,onInput:x=>f(i),inputmode:"numeric",type:"text",pattern:"[0-9]*",required:"",ref_for:!0,ref:"passwordInputs"},null,8,["id","modelValue","onUpdate:modelValue","onInput"]))),128))]),a(v,{class:"mt-2",message:o(t).errors.passwordParts},null,8,["message"])]),s("div",T,[s("label",A,[a(F,{name:"remember",checked:o(t).remember,"onUpdate:checked":e[2]||(e[2]=n=>o(t).remember=n)},null,8,["checked"]),e[4]||(e[4]=s("span",{class:"ms-2 text-sm text-gray-600"},"Remember me",-1))])]),s("div",Z,[a(o(P),{href:r.route("register"),class:"rounded-md text-lg text-red-600 underline hover:text-red-900 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"},{default:y(()=>e[5]||(e[5]=[V(" Sign Up? ")])),_:1},8,["href"]),u.canResetPassword?(l(),g(o(P),{key:0,href:r.route("forgot"),class:"rounded-md text-lg text-gray-600 underline hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"},{default:y(()=>e[6]||(e[6]=[V(" Forgot your password? ")])),_:1},8,["href"])):h("",!0)]),e[7]||(e[7]=s("div",{class:"mt-2 flex items-center justify-center"},[s("div",{class:"flex flex-col md:flex-row w-full md:w-fit justify-self-center mt-2 gap-8 md:w-2/5 text-center"},[s("button",{type:"submit",class:"bg-yellow-300 py-2 px-8 rounded-lg shadow-md border-2 border-red-600 text-red-600 font-extrabold text-xl hover:bg-yellow-400"}," LOGIN ")])],-1))],32)]),_:1}))}};export{X as default};
