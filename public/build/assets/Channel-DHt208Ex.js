import{_ as q}from"./Modal-CChgc6Pl.js";import{_ as N}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as f,f as M,c as B,a as I,w as h,K as S,o as d,b as e,d as $,h as r,t as l,k as _,j as v,n as p,F as b}from"./app-Dzv-NTpE.js";const L={class:"flex flex-col space-y-3"},V={class:"flex flex-col md:flex-row md:space-x-3 space-y-1"},P={class:"text-gray-600 text-sm"},j={key:0},A={key:0},D={class:"text-sm text-gray-500"},F={class:"flex flex-col"},O={class:"hidden md:block overflow-x-auto"},T={class:"inline-block min-w-full py-2 align-middle"},z={class:"overflow-hidden shadow ring-1 ring-black ring-opacity-5 rounded-lg"},E={class:"min-w-full divide-y divide-gray-300"},K={class:"bg-white"},U=["onClick"],G={class:"px-4 py-3 text-center"},H={class:"px-4 py-3"},J=["src"],Q={class:"px-4 py-3 text-center"},R={class:"px-4 py-3 text-center text-sm text-gray-700"},W={class:"md:hidden space-y-2"},X=["onClick"],Y={class:"flex items-center space-x-2"},Z={class:"text-gray-600 font-normal"},tt=["src"],et={class:"flex-1 space-y-1"},st={class:"text-gray-700 text-lg text-center"},ot={__name:"Channel",props:{showModal:Boolean,timingNow:String,vend:Object},emits:["modalClose"],setup(a,{emit:dt}){const k=a,g=f([]),w=f(null);M(()=>{g.value=k.vend.vendChannels.map(s=>({...s,product:s.product||{}}))});function m(s){w.value=s}function y(s){var o;return s.qty>=3?"More than 3 pcs":s.qty>=1&&s.qty<3?"Less than 3 pcs":s.qty==0||(o=s.vend_channel_error_logs)!=null&&o.length?"Sold Out":"Unknown"}return(s,o)=>(d(),B(S,{to:"body"},[I(q,{open:a.showModal,onModalClose:o[0]||(o[0]=t=>s.$emit("modalClose"))},{header:h(()=>{var t;return[e("div",L,[e("div",V,[e("span",P,[o[1]||(o[1]=$(" Machine ")),a.vend.code?(d(),r("span",j,"ID "+l(a.vend.code),1)):_("",!0)]),a.vend.customer?(d(),r("span",A,l((t=a.vend.customer)==null?void 0:t.name),1)):_("",!0)]),e("span",D," Loaded at "+l(a.timingNow),1)])]}),default:h(()=>[e("div",F,[e("div",O,[e("div",T,[e("div",z,[e("table",E,[o[2]||(o[2]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{scope:"col",class:"px-4 py-3 text-xs font-semibold text-gray-900 text-center"},"#"),e("th",{scope:"col",class:"px-4 py-3 text-xs font-semibold text-gray-900 text-center"},"Image"),e("th",{scope:"col",class:"px-4 py-3 text-xs font-semibold text-gray-900 text-center"},"Status"),e("th",{scope:"col",class:"px-4 py-3 text-xs font-semibold text-gray-900 text-center"},"Product")])],-1)),e("tbody",K,[(d(!0),r(b,null,v(g.value,(t,x)=>{var n,c,i,u;return d(),r("tr",{key:t.id,class:p([{"bg-gray-50":x%2!==0},"cursor-pointer hover:bg-gray-200"]),onClick:C=>m(x)},[e("td",G,l(t.code),1),e("td",H,[(c=(n=t.product)==null?void 0:n.thumbnail)!=null&&c.full_url?(d(),r("img",{key:0,src:t.product.thumbnail.full_url,alt:"Product Image",class:"w-20 h-20 rounded-full mx-auto"},null,8,J)):_("",!0)]),e("td",Q,[e("span",{class:p([{"bg-green-200 text-green-800":t.qty>=3,"bg-orange-200 text-orange-800":t.qty>=1&&t.qty<3,"bg-red-200 text-red-800":t.qty==0||((i=t.vend_channel_error_logs)==null?void 0:i.length)},"px-3 py-1 rounded-full text-sm font-bold"])},l(y(t)),3)]),e("td",R,l(((u=t.product)==null?void 0:u.name)||"N/A"),1)],10,U)}),128))])])])])]),e("div",W,[(d(!0),r(b,null,v(g.value,(t,x)=>{var n,c,i,u;return d(),r("div",{key:t.id,class:"p-4 bg-white shadow rounded-lg space-y-2",onClick:C=>m(x)},[e("div",Y,[e("span",Z,"# "+l(t.code),1),(c=(n=t.product)==null?void 0:n.thumbnail)!=null&&c.full_url?(d(),r("img",{key:0,src:t.product.thumbnail.full_url,alt:"Product Image",class:"w-24 h-24 rounded-full"},null,8,tt)):_("",!0),e("div",et,[e("p",st,l(((i=t.product)==null?void 0:i.name)||"N/A"),1),e("span",{class:p([{"bg-green-200 text-green-800":t.qty>=3,"bg-orange-200 text-orange-800":t.qty>=1&&t.qty<3,"bg-red-200 text-red-800":t.qty==0||((u=t.vend_channel_error_logs)==null?void 0:u.length)},"px-3 py-1 rounded-full text-sm font-bold block text-center w-fit mx-auto"])},l(y(t)),3)])])],8,X)}),128))])])]),_:1},8,["open"])]))}},nt=N(ot,[["__scopeId","data-v-f8a4a475"]]);export{nt as default};
