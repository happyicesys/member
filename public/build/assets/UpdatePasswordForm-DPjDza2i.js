import{T as v,h as u,b as r,a as l,F as d,i as m,u as n,w as h,I as b,e as I,o as i,c as _,j as x}from"./app-oNSriaRP.js";import{b as f,_ as g,a as w}from"./TextInput-CEdNKEsh.js";const $={class:"mt-2 grid grid-cols-6 gap-2"},V={class:"mt-2 grid grid-cols-6 gap-2"},k={class:"mt-2 grid grid-cols-6 gap-2"},N={class:"flex items-center gap-4"},U={class:"flex flex-col md:flex-row w-full md:w-fit justify-self-center mt-2 gap-8 md:w-2/5 text-center"},P=["disabled"],B={key:0,class:"text-sm text-gray-600"},E={__name:"UpdatePasswordForm",setup(S){const e=v({current_pin:["","","","","",""],new_pin:["","","","","",""],new_pin_confirmation:["","","","","",""]}),p=(c,o)=>{if(e[o][c].length===1&&c<e[o].length-1){const s=document.getElementById(`${o}_${c+1}`);s&&s.focus()}else if(e[o][c].length===0&&c>0){const s=document.getElementById(`${o}_${c-1}`);s&&s.focus()}},y=()=>{e.current_pin.join(""),e.new_pin.join(""),e.new_pin_confirmation.join(""),e.post(route("pin.update"),{preserveScroll:!0,onSuccess:()=>{e.reset()},onError:()=>{e.errors.password&&e.reset("new_pin","new_pin_confirmation"),e.errors.current_password&&e.reset("current_pin")}})};return(c,o)=>(i(),u("section",null,[o[0]||(o[0]=r("header",null,[r("h2",{class:"text-lg font-medium text-gray-900"},"Update PIN"),r("p",{class:"mt-1 text-sm text-gray-600"},"Update your secure 6-digit PIN to enhance account security.")],-1)),r("form",{onSubmit:I(y,["prevent"]),class:"mt-6 space-y-6"},[r("div",null,[l(g,{for:"current_pin",value:"Current PIN"}),r("div",$,[(i(!0),u(d,null,m(n(e).current_pin,(s,t)=>(i(),_(w,{key:`current_${t}`,id:`current_pin_${t}`,class:"block w-14 text-center px-2 py-3 border rounded-md focus:ring focus:ring-indigo-500 focus:ring-opacity-50",maxlength:"1",modelValue:n(e).current_pin[t],"onUpdate:modelValue":a=>n(e).current_pin[t]=a,onInput:a=>p(t,"current_pin"),inputmode:"numeric",type:"text",pattern:"[0-9]*",required:""},null,8,["id","modelValue","onUpdate:modelValue","onInput"]))),128))]),l(f,{message:n(e).errors.current_pin,class:"mt-2"},null,8,["message"])]),r("div",null,[l(g,{for:"new_pin",value:"New PIN",class:"text-red-600"}),r("div",V,[(i(!0),u(d,null,m(n(e).new_pin,(s,t)=>(i(),_(w,{key:`new_${t}`,id:`new_pin_${t}`,class:"block w-14 text-center px-2 py-3 border rounded-md focus:ring focus:ring-indigo-500 focus:ring-opacity-50",maxlength:"1",modelValue:n(e).new_pin[t],"onUpdate:modelValue":a=>n(e).new_pin[t]=a,onInput:a=>p(t,"new_pin"),inputmode:"numeric",type:"text",pattern:"[0-9]*",required:""},null,8,["id","modelValue","onUpdate:modelValue","onInput"]))),128))]),l(f,{message:n(e).errors.new_pin,class:"mt-2"},null,8,["message"])]),r("div",null,[l(g,{for:"new_pin_confirmation",value:"Confirm New PIN",class:"text-red-600"}),r("div",k,[(i(!0),u(d,null,m(n(e).new_pin_confirmation,(s,t)=>(i(),_(w,{key:`confirm_${t}`,id:`new_pin_confirmation_${t}`,class:"block w-14 text-center px-2 py-3 border rounded-md focus:ring focus:ring-indigo-500 focus:ring-opacity-50",maxlength:"1",modelValue:n(e).new_pin_confirmation[t],"onUpdate:modelValue":a=>n(e).new_pin_confirmation[t]=a,onInput:a=>p(t,"new_pin_confirmation"),inputmode:"numeric",type:"text",pattern:"[0-9]*",required:""},null,8,["id","modelValue","onUpdate:modelValue","onInput"]))),128))]),l(f,{message:n(e).errors.new_pin_confirmation,class:"mt-2"},null,8,["message"])]),r("div",N,[r("div",U,[r("button",{type:"submit",disabled:n(e).processing,class:"bg-yellow-300 py-1 px-6 rounded-lg shadow-md border-2 border-red-600 text-red-600 font-bold text-xl hover:bg-yellow-400"}," Save ",8,P)]),l(b,{"enter-active-class":"transition ease-in-out","enter-from-class":"opacity-0","leave-active-class":"transition ease-in-out","leave-to-class":"opacity-0"},{default:h(()=>[n(e).recentlySuccessful?(i(),u("p",B,"Saved.")):x("",!0)]),_:1})])],32)]))}};export{E as default};
