import{G as I}from"./GuestLayout-CI3MRTqc.js";import L from"./Channel-csSkau5L.js";import{r as h,f as V,_ as O,h as y,a as M,w as E,c as z,j as D,F as A,o as p,u as $,Z as U,b as t,t as u,d as l,k as R,i as T}from"./app-DVzUASok.js";import{h as q}from"./moment-C5S46NFB.js";import{_ as K}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ResponsiveNavLink-C0qMVJUC.js";import"./Modal-CJTsYzAh.js";const Y={class:"bg-white py-8 px-4"},Z={class:"flex flex-col md:flex-row w-full md:w-fit justify-self-center mt-6 gap-4 md:gap-8 md:w-2/5 text-center mx-auto"},H={class:"bg-yellow-300 py-3 md:py-6 px-14 rounded-lg shadow-md"},J={class:"text-xl md:text-2xl font-bold text-gray-600 flex flex-col items-center space-y-2"},Q={class:"text-3xl md:text-5xl font-extrabold drop-shadow-sm"},X={class:"bg-yellow-300 py-3 md:py-6 px-10 rounded-lg shadow-md hidden"},tt={class:"text-xl md:text-2xl font-bold text-gray-600 flex flex-col items-center space-y-2"},et={class:"text-3xl md:text-5xl font-extrabold drop-shadow-sm"},ot={class:"bg-white py-8 px-6"},st={class:"flex flex-col md:flex-row w-full md:w-fit justify-self-center mt-6 gap-8 md:w-2/5 text-center mx-auto"},lt={class:"pb-10 pt-2 bg-white px-4 md:px-16"},nt={class:"container mx-auto md:max-w-6xl mt-2"},at={class:"overflow-x-auto shadow-md rounded-lg"},rt={class:"w-full border-collapse text-left text-sm text-gray-600"},it=["onClick"],dt={class:"border border-gray-300 px-4 py-2"},ct={class:"flex flex-col space-y-2"},mt={class:"text-gray-800 font-semibold text-left"},pt={class:"text-left"},ut={class:"border border-gray-300 px-4 py-2"},xt={class:"flex flex-col space-y-2"},gt=["href"],ft={class:"border border-gray-300 px-4 py-2 text-center"},bt=["onClick"],ht={key:0},yt={__name:"Welcome",props:{dcvends:[Array,Object],mapApiKey:String,stats:[Array,Object]},setup(w){const v=w,P=h(q().format("hh:mm:ss a")),x=h(!1),i=h([]),_=h([]);let n,k=[];V(()=>{var o;i.value=Array.isArray((o=v.dcvends)==null?void 0:o.data)?v.dcvends.data:[],j()});function j(){const o=document.createElement("script");o.src=`https://maps.googleapis.com/maps/api/js?key=${v.mapApiKey}&callback=initMap&libraries=places`,o.async=!0,o.defer=!0,document.head.appendChild(o)}window.initMap=function(){new google.maps.DirectionsService,navigator.geolocation?navigator.geolocation.getCurrentPosition(o=>{const e={lat:o.coords.latitude,lng:o.coords.longitude};n=new google.maps.Map(document.getElementById("map"),{center:e,zoom:12}),N(e),S()},o=>{console.error("Error getting user location:",o),F()}):(console.error("Geolocation is not supported by this browser."),F())};function F(){const o={lat:1.3521,lng:103.8198};n=new google.maps.Map(document.getElementById("map"),{center:o,zoom:12}),S()}function S(){k=[],i.value.forEach((o,e)=>{const{customer:s}=o;if(s&&s.address){const{latitude:g,longitude:d,full_address:c}=s.address;if(g&&d){const f={lat:parseFloat(g),lng:parseFloat(d)},a=new google.maps.Marker({position:f,map:n,label:{text:String(o.code),color:"#000000",fontWeight:"bold"},icon:{url:"/images/icon.png",scaledSize:new google.maps.Size(40,40),labelOrigin:new google.maps.Point(20,40)},title:c}),m=s.photos||[];let r="";m.length>0?r=`
                        <div style="max-width: 500px; max-height: 400px; height:auto; overflow: hidden;">
                            <div class="swiper">
                                <div class="swiper-wrapper">
                                    ${m.map(C=>`
                                            <div class="swiper-slide">
                                                <img src="${C.full_url}" alt="Customer Photo" style="width: 100%; height: auto; border-radius:5%;" />
                                            </div>`).join("")}
                                </div>
                                <div class="swiper-button-next"></div>
                                <div class="swiper-button-prev"></div>
                            </div>
                        </div>`:r="";const b=new google.maps.InfoWindow({content:`
                        <div style="text-align: center;">
                            <span style="font-size: 12px; font-weight: bold; margin-bottom: 1px;">${s.name}</span>
                            <p style="margin-bottom: 3px;"><strong>${c}</strong></p>
                            ${r}
                        </div>
                    `,maxWidth:1e3});a.addListener("click",()=>{event.stopPropagation(),b.open(n,a),setTimeout(()=>{new O(".swiper",{navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},loop:!0})},0)}),k.push({marker:a,tableIndex:e})}}})}function N(o){new google.maps.Marker({position:o,map:n,label:{text:"You",color:"#000000",fontWeight:"bold"},icon:{path:google.maps.SymbolPath.CIRCLE,scale:13,fillColor:"#4CAF50",fillOpacity:1,strokeColor:"#FFFFFF",strokeWeight:2},title:"Your Location"})}function G(o){const e=k.find(s=>s.tableIndex===o);if(e){const{marker:s}=e;s.setAnimation(google.maps.Animation.BOUNCE),setTimeout(()=>{s.setAnimation(null)},2e3),n.setCenter(s.getPosition()),n.setZoom(14)}}function W(){x.value=!1}function B(o){_.value=[],_.value=o,x.value=!0}return(o,e)=>(p(),y(A,null,[M(I,null,{default:E(()=>[M($(U),{title:"DCVend Membership"}),e[8]||(e[8]=t("section",{class:"text-white rounded my-2 px-2"},[t("img",{src:"/images/banner_4.jpg",alt:"DCVend Banner",class:"w-full rounded hidden md:block"}),t("img",{src:"/images/banner_mobile_4.jpg",alt:"DCVend Banner Mobile",class:"w-full rounded md:hidden"})],-1)),t("section",Y,[e[2]||(e[2]=t("div",{class:"text-center text-red-600 text-3xl font-semibold tracking-wide"},[t("div",{class:"md:w-1/2 mx-auto"}," Buy 1 ice cream also get 30% discount with a DCVend membership ")],-1)),t("div",Z,[t("div",H,[t("p",J,[t("span",Q,u(w.stats.users.toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:0})),1),e[0]||(e[0]=t("span",null," Members ",-1))])]),t("div",X,[t("p",tt,[t("span",et," S$ "+u(w.stats.discount.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})),1),e[1]||(e[1]=t("span",null," Discount Given ",-1))])])]),e[3]||(e[3]=t("div",{class:"text-right text-gray-600 text-md mt-2"},[t("div",{class:"md:w-1/5 mx-auto"}," updated daily ")],-1))]),e[9]||(e[9]=t("section",{class:"pb-6 pt-2 md:pt-6 bg-white px-6"},[t("div",{class:"container mx-auto max-w-4xl text-center"},[t("h2",{class:"text-3xl font-bold text-red-600 mb-6"},"Why Join DCVend?"),t("ul",{class:"text-gray-600 space-y-1 text-left md:text-center"},[t("li",null,[t("strong",null,"Discount & Convenient:"),l(" 24/7, 30% discount, even just buy 1 piece. ")]),t("li",null,[t("strong",null,"Free membership:"),l(" Start saving today! Upgrade membership for more benefits. ")]),t("li",null,[t("strong",null,"Exclusive Perks:"),l(" Unlock special products and offers from our partners. ")]),t("li",null,[t("strong",null,"Instant Delivery:"),l(" Order via Grab and get 8% cashback. ")]),t("li",null,[t("strong",null,"Crazy After-Meal Deals:"),l(" Incredible savings on a rotating selection of flavours. ")])])])],-1)),e[10]||(e[10]=t("section",{class:"py-6 md:py-12 bg-gray-50 rounded px-6"},[t("div",{class:"container mx-auto max-w-6xl text-center"},[t("h2",{class:"text-3xl font-bold text-red-600 mb-8"},"Membership Plans"),t("div",{class:"grid grid-cols-1 md:grid-cols-3 gap-6"},[t("div",{class:"bg-slate-200 rounded-md shadow-md p-6 text-center"},[t("h3",{class:"text-4xl font-bold text-gray-600 font-extrabold mb-4"},"FREE Member"),t("ul",{class:"text-gray-600 mb-4 space-y-2"},[t("li",null,[t("strong",null,"1 time: "),l(" 30% discount on all products")])]),t("p",{class:"text-xl font-bold text-gray-600"},"FREE/ month")]),t("div",{class:"bg-slate-200 rounded-md shadow-md p-6 text-center"},[t("h3",{class:"text-4xl font-bold text-gray-600 font-extrabold mb-4"},"Gold Member"),t("ul",{class:"text-gray-600 mb-4 space-y-2"},[t("li",null,[t("strong",null,"4 times:"),l(" 30% discount on all products")])]),t("p",{class:"text-xl font-bold text-gray-600"},"S$ 2.90/ month")]),t("div",{class:"bg-slate-300 rounded-md shadow-md p-6 text-center"},[t("h3",{class:"text-4xl font-bold text-gray-600 font-extrabold mb-4 flex flex-col"},[t("span",null," Platinum Member "),t("small",{class:"text-sm text-red-600"},"(Coming soon)")]),t("ul",{class:"text-gray-500 mb-4 space-y-2"},[t("li",null,[t("strong",null,"Unlimited:"),l(" 30% discount on all products")]),t("li",null,[t("strong",null,"FREE:"),l(" S$2 voucher")]),t("li",null,[t("strong",null,"Unlimited:"),l(" Crazy after-meal deals")]),t("li",null,[t("strong",null,"Unlimited:"),l(" 8% cashback on orders via Grab")]),t("li",null,[t("strong",null,"Unlimited:"),l(" 8% discount from affiliated vending machines")])]),t("p",{class:"text-xl font-bold text-gray-600"},"S$ 4.80/ month")])])])],-1)),t("section",ot,[e[5]||(e[5]=t("div",{class:"text-center text-gray-600 text-2xl font-semibold tracking-wide md:w-3/5 mx-auto"},[t("strong",null,"New Sign-up:"),l(" Free Gold Member package, with FREE upgrade to unlimited times of 30% discount on all products, for 2 months ")],-1)),t("div",st,[M($(R),{href:o.route("register"),class:"bg-yellow-300 py-8 px-16 rounded-lg shadow-md border-2 border-red-600 text-red-600 font-extrabold text-5xl hover:bg-yellow-400"},{default:E(()=>e[4]||(e[4]=[t("div",{class:"flex flex-col space-y-2"},[t("span",null," SIGN UP NOW "),t("span",{class:"text-sm font-bold"}," (no credit card required) ")],-1)])),_:1},8,["href"])])]),e[11]||(e[11]=t("section",{class:"pb-4 pt-4 md:pt-8 bg-white"},[t("div",{class:"container mx-auto max-w-4xl text-center"},[t("h2",{class:"text-3xl font-bold text-red-600 mb-6"},"DCVend Location")]),t("div",{id:"map",class:"sm:col-span-6 items-center mx-auto w-11/12 md:w-10/12 h-[30rem]"})],-1)),t("section",lt,[t("div",nt,[t("div",at,[t("table",rt,[e[7]||(e[7]=t("thead",{class:"bg-gray-100 text-gray-700 uppercase text-xs font-semibold"},[t("tr",null,[t("th",{class:"border border-gray-300 px-4 py-3 text-center"},"Name"),t("th",{class:"border border-gray-300 px-4 py-3 text-center"},"Address"),t("th",{class:"border border-gray-300 px-4 py-3 text-center"},"Product Availability")])],-1)),t("tbody",null,[(p(!0),y(A,null,T(i.value,(s,g)=>{var d,c,f,a,m,r,b;return p(),y("tr",{key:s.code,onClick:C=>G(g),class:"cursor-pointer hover:bg-gray-50 transition duration-200"},[t("td",dt,[t("div",ct,[t("span",mt,u(s.code),1),t("span",pt,u((d=s.customer)==null?void 0:d.name),1)])]),t("td",ut,[t("div",xt,[t("span",null,u((f=(c=s.customer)==null?void 0:c.address)==null?void 0:f.full_address),1),t("a",{href:`https://www.google.com/maps/search/?api=1&query=${(m=(a=s.customer)==null?void 0:a.address)==null?void 0:m.latitude},${(b=(r=s.customer)==null?void 0:r.address)==null?void 0:b.longitude}`,target:"_blank",rel:"noopener noreferrer",type:"button",class:"bg-green-300 hover:bg-green-400 px-3 py-2 text-xs text-green-800 flex space-x-1 w-fit rounded shadow font-bold"}," GPS ",8,gt)])]),t("td",ft,[t("img",{src:"/images/components/ice_cream_stick.png",alt:"Ice cream icon",class:"hover:cursor-point drop-shadow-lg mx-auto w-10 h-10",onClick:C=>B(s)},null,8,bt)])],8,it)}),128)),!i.value||i.value.length==0?(p(),y("tr",ht,e[6]||(e[6]=[t("td",{class:"border border-gray-300 px-4 py-2 text-center",colspan:"5"},"No data available",-1)]))):D("",!0)])])])])])]),_:1}),x.value?(p(),z(L,{key:0,vend:_.value,showModal:x.value,timingNow:P.value,onModalClose:W},null,8,["vend","showModal","timingNow"])):D("",!0)],64))}},St=K(yt,[["__scopeId","data-v-d0a968ab"]]);export{St as default};
