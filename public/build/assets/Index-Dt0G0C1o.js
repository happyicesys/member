import{r,V as v,j as f,f as l,b as e,F as h,l as y,o as n,t as i,i as m,W as g}from"./app-D-x25jTd.js";import{_ as b}from"./_plugin-vue_export-helper-DlAUqK2U.js";const w={class:"py-10 bg-gray-50"},P={class:"mx-auto max-w-3xl px-6"},k={key:0,class:"text-center"},F={key:1},$={class:"space-y-4"},B={class:"text-xl font-bold text-gray-800"},I={class:"text-gray-600"},S={class:"mt-2 text-red-400 font-semibold"},V=["id","value"],j=["for"],C={class:"mt-6 text-center"},D=["disabled"],L={__name:"Index",setup(M){const c=r([]),d=r(null),o=r(!0),u=v().props.auth.user,p=async()=>{try{const s=await axios.get("/api/plans");c.value=s.data.plans,d.value=u.plan_id}catch(s){console.error("Failed to fetch plans:",s)}finally{o.value=!1}},_=async()=>{try{o.value=!0,await axios.put("/api/plans/switch",{plan_id:d.value}),alert("Plan updated successfully!")}catch(s){console.error("Failed to update plan:",s),alert("Failed to update plan. Please try again.")}finally{o.value=!1}};return f(p),(s,a)=>(n(),l("div",w,[e("div",P,[a[2]||(a[2]=e("h2",{class:"text-3xl font-bold text-red-400 mb-6 font-heading text-center"},"Choose Your Plan",-1)),o.value?(n(),l("div",k,a[1]||(a[1]=[e("p",{class:"text-gray-600"},"Loading plans...",-1)]))):(n(),l("div",F,[e("div",$,[(n(!0),l(h,null,y(c.value,t=>(n(),l("div",{key:t.id,class:"p-6 bg-white rounded-lg shadow-md flex items-center justify-between"},[e("div",null,[e("h3",B,i(t.name),1),e("p",I,i(t.description),1),e("p",S,i(t.price>0?`$${t.price}/month`:"Free"),1)]),e("div",null,[m(e("input",{type:"radio",id:`plan-${t.id}`,value:t.id,"onUpdate:modelValue":a[0]||(a[0]=x=>d.value=x),class:"w-5 h-5 text-red-400 border-gray-300 focus:ring-red-400"},null,8,V),[[g,d.value]]),e("label",{for:`plan-${t.id}`,class:"ml-2 text-gray-700"},"Select",8,j)])]))),128))]),e("div",C,[e("button",{onClick:_,class:"bg-red-400 text-white font-bold py-3 px-6 rounded-lg shadow-md hover:bg-red-500",disabled:o.value}," Save Plan ",8,D)])]))])]))}},Q=b(L,[["__scopeId","data-v-1aef32de"]]);export{Q as default};
