import{G as L}from"./GuestLayout-BG2oo_JD.js";import V from"./Channel-Dv11vGC3.js";import{r as g,f as I,_ as O,h as r,a as v,w as M,c as z,j as c,F,o as n,u as S,Z as U,b as e,t as m,d as l,k as D,i as R}from"./app-BsjimK2c.js";import{h as T}from"./moment-C5S46NFB.js";import{_ as q}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ResponsiveNavLink-DvQzA7SP.js";import"./Modal-DTluwK76.js";const K={class:"bg-white py-8 px-4"},Y={class:"flex flex-col md:flex-row w-full md:w-fit justify-self-center mt-6 gap-4 md:gap-8 md:w-2/5 text-center mx-auto"},Z={class:"bg-yellow-300 py-3 md:py-6 px-14 rounded-lg shadow-md"},H={class:"text-xl md:text-2xl font-bold text-gray-600 flex flex-col items-center space-y-2"},J={class:"text-3xl md:text-5xl font-extrabold drop-shadow-sm"},Q={class:"bg-yellow-300 py-3 md:py-6 px-10 rounded-lg shadow-md hidden"},X={class:"text-xl md:text-2xl font-bold text-gray-600 flex flex-col items-center space-y-2"},ee={class:"text-3xl md:text-5xl font-extrabold drop-shadow-sm"},te={class:"bg-white py-8 px-6"},se={class:"flex flex-col md:flex-row w-full md:w-fit justify-self-center mt-6 gap-8 md:w-2/5 text-center mx-auto"},oe={class:"pb-10 pt-2 bg-white px-4 md:px-16"},le={class:"container mx-auto md:max-w-6xl mt-2"},ne={class:"overflow-x-auto shadow-md rounded-lg"},ae={class:"w-full border-collapse text-left text-sm text-gray-600"},re=["onClick"],ie={class:"border border-gray-300 px-4 py-2"},de={class:"flex flex-col space-y-2"},ce={class:"text-gray-800 font-semibold text-left"},me={class:"text-left"},pe={class:"flex flex-col space-y-1"},ue={key:0,class:"inline-flex items-center rounded-md bg-red-50 px-2 py-1 text-xs font-medium text-red-700 ring-1 ring-inset ring-red-600/10 w-fit"},xe={class:"border border-gray-300 px-4 py-2"},ge={class:"flex flex-col space-y-2"},fe=["href"],be={class:"border border-gray-300 px-4 py-2 text-center"},he=["onClick"],ye={key:0},we={__name:"Welcome",props:{dcvends:[Array,Object],mapApiKey:String,stats:[Array,Object]},setup(f){const b=f,E=g(T().format("hh:mm:ss a")),p=g(!1),i=g([]),u=g([]);let a,h=[];I(()=>{var o;i.value=Array.isArray((o=b.dcvends)==null?void 0:o.data)?b.dcvends.data:[],A()});function A(){const o=document.createElement("script");o.src=`https://maps.googleapis.com/maps/api/js?key=${b.mapApiKey}&callback=initMap&libraries=places`,o.async=!0,o.defer=!0,document.head.appendChild(o)}window.initMap=function(){new google.maps.DirectionsService,navigator.geolocation?navigator.geolocation.getCurrentPosition(o=>{const t={lat:o.coords.latitude,lng:o.coords.longitude};a=new google.maps.Map(document.getElementById("map"),{center:t,zoom:12}),$(t),k()},o=>{console.error("Error getting user location:",o),_()}):(console.error("Geolocation is not supported by this browser."),_())};function _(){const o={lat:1.3521,lng:103.8198};a=new google.maps.Map(document.getElementById("map"),{center:o,zoom:12}),k()}function k(){h=[],i.value.forEach((o,t)=>{const{address:s,photos:d,name:x,vend:y}=o;if(s&&s.latitude&&s.longitude){const G={lat:parseFloat(s.latitude),lng:parseFloat(s.longitude)},w=new google.maps.Marker({position:G,map:a,label:{text:String(y.code),color:"#000000",fontWeight:"bold"},icon:{url:"/images/icon.png",scaledSize:new google.maps.Size(40,40),labelOrigin:new google.maps.Point(20,40)},title:s.full_address});let C="";d&&d.length>0&&(C=`
                    <div style="max-width: 500px; max-height: 400px; height:auto; overflow: hidden;">
                        <div class="swiper">
                            <div class="swiper-wrapper">
                                ${d.map(B=>`
                                        <div class="swiper-slide">
                                            <img src="${B.full_url}" alt="Customer Photo" style="width: 100%; height: auto; border-radius:5%;" />
                                        </div>`).join("")}
                            </div>
                            <div class="swiper-button-next"></div>
                            <div class="swiper-button-prev"></div>
                        </div>
                    </div>`);const W=new google.maps.InfoWindow({content:`
                    <div style="text-align: center;">
                        <span style="font-size: 12px; font-weight: bold; margin-bottom: 1px;">${x}</span>
                        <p style="margin-bottom: 3px;"><strong>${s.full_address}</strong></p>
                        ${C}
                    </div>
                `,maxWidth:1e3});w.addListener("click",()=>{event.stopPropagation(),W.open(a,w),setTimeout(()=>{new O(".swiper",{navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},loop:!0})},0)}),h.push({marker:w,tableIndex:t})}})}function $(o){new google.maps.Marker({position:o,map:a,label:{text:"You",color:"#000000",fontWeight:"bold"},icon:{path:google.maps.SymbolPath.CIRCLE,scale:13,fillColor:"#4CAF50",fillOpacity:1,strokeColor:"#FFFFFF",strokeWeight:2},title:"Your Location"})}function P(o){const t=h.find(s=>s.tableIndex===o);if(t){const{marker:s}=t;s.setAnimation(google.maps.Animation.BOUNCE),setTimeout(()=>{s.setAnimation(null)},2e3),a.setCenter(s.getPosition()),a.setZoom(14)}}function j(){p.value=!1}function N(o){u.value=[],u.value=o,console.log(u.value),p.value=!0}return(o,t)=>(n(),r(F,null,[v(L,null,{default:M(()=>[v(S(U),{title:"DCVend Membership"}),t[8]||(t[8]=e("section",{class:"text-white rounded my-2 px-2"},[e("img",{src:"/images/banner_4.jpg",alt:"DCVend Banner",class:"w-full rounded hidden md:block"}),e("img",{src:"/images/banner_mobile_4.jpg",alt:"DCVend Banner Mobile",class:"w-full rounded md:hidden"})],-1)),e("section",K,[t[2]||(t[2]=e("div",{class:"text-center text-red-600 text-3xl font-semibold tracking-wide"},[e("div",{class:"md:w-1/2 mx-auto"}," Buy 1 ice cream also get 30% discount with a DCVend membership ")],-1)),e("div",Y,[e("div",Z,[e("p",H,[e("span",J,m(f.stats.users.toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:0})),1),t[0]||(t[0]=e("span",null," Members ",-1))])]),e("div",Q,[e("p",X,[e("span",ee," S$ "+m(f.stats.discount.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})),1),t[1]||(t[1]=e("span",null," Discount Given ",-1))])])]),t[3]||(t[3]=e("div",{class:"text-right text-gray-600 text-md mt-2"},[e("div",{class:"md:w-1/5 mx-auto"}," updated daily ")],-1))]),t[9]||(t[9]=e("section",{class:"pb-6 pt-2 md:pt-6 bg-white px-6"},[e("div",{class:"container mx-auto max-w-4xl text-center"},[e("h2",{class:"text-3xl font-bold text-red-600 mb-6"},"Why Join DCVend?"),e("ul",{class:"text-gray-600 space-y-1 text-left md:text-center"},[e("li",null,[e("strong",null,"Discount & Convenient:"),l(" 24/7, 30% discount, even just buy 1 piece. ")]),e("li",null,[e("strong",null,"Free membership:"),l(" Start saving today! Upgrade membership for more benefits. ")]),e("li",null,[e("strong",null,"Exclusive Perks:"),l(" Unlock special products and offers from our partners. ")]),e("li",null,[e("strong",null,"Instant Delivery:"),l(" Order via Grab and get 8% cashback. ")]),e("li",null,[e("strong",null,"Crazy After-Meal Deals:"),l(" Incredible savings on a rotating selection of flavours. ")])])])],-1)),t[10]||(t[10]=e("section",{class:"py-6 md:py-12 bg-gray-50 rounded px-6"},[e("div",{class:"container mx-auto max-w-6xl text-center"},[e("h2",{class:"text-3xl font-bold text-red-600 mb-8"},"Membership Plans"),e("div",{class:"grid grid-cols-1 md:grid-cols-3 gap-6"},[e("div",{class:"bg-slate-200 rounded-md shadow-md p-6 text-center"},[e("h3",{class:"text-4xl font-bold text-gray-600 font-extrabold mb-4"},"FREE Member"),e("ul",{class:"text-gray-600 mb-4 space-y-2"},[e("li",null,[e("strong",null,"1 time: "),l(" 30% discount on all products")])]),e("p",{class:"text-xl font-bold text-gray-600"},"FREE/ month")]),e("div",{class:"bg-slate-200 rounded-md shadow-md p-6 text-center"},[e("h3",{class:"text-4xl font-bold text-gray-600 font-extrabold mb-4"},"Gold Member"),e("ul",{class:"text-gray-600 mb-4 space-y-2"},[e("li",null,[e("strong",null,"4 times:"),l(" 30% discount on all products")])]),e("p",{class:"text-xl font-bold text-gray-600"},"S$ 2.90/ month")]),e("div",{class:"bg-slate-300 rounded-md shadow-md p-6 text-center"},[e("h3",{class:"text-4xl font-bold text-gray-600 font-extrabold mb-4 flex flex-col"},[e("span",null," Platinum Member "),e("small",{class:"text-sm text-red-600"},"(Coming soon)")]),e("ul",{class:"text-gray-500 mb-4 space-y-2"},[e("li",null,[e("strong",null,"Unlimited:"),l(" 30% discount on all products")]),e("li",null,[e("strong",null,"FREE:"),l(" S$2 voucher")]),e("li",null,[e("strong",null,"Unlimited:"),l(" Crazy after-meal deals")]),e("li",null,[e("strong",null,"Unlimited:"),l(" 8% cashback on orders via Grab")]),e("li",null,[e("strong",null,"Unlimited:"),l(" 8% discount from affiliated vending machines")])]),e("p",{class:"text-xl font-bold text-gray-600"},"S$ 4.80/ month")])])])],-1)),e("section",te,[t[5]||(t[5]=e("div",{class:"text-center text-gray-600 text-2xl font-semibold tracking-wide md:w-3/5 mx-auto"},[e("strong",null,"New Sign-up:"),l(" Free Gold Member package, with FREE upgrade to unlimited times of 30% discount on all products, for 2 months ")],-1)),e("div",se,[v(S(D),{href:o.route("register"),class:"bg-yellow-300 py-8 px-16 rounded-lg shadow-md border-2 border-red-600 text-red-600 font-extrabold text-5xl hover:bg-yellow-400"},{default:M(()=>t[4]||(t[4]=[e("div",{class:"flex flex-col space-y-2"},[e("span",null," SIGN UP NOW "),e("span",{class:"text-sm font-bold"}," (no credit card required) ")],-1)])),_:1},8,["href"])])]),t[11]||(t[11]=e("section",{class:"pb-4 pt-4 md:pt-8 bg-white"},[e("div",{class:"container mx-auto max-w-4xl text-center"},[e("h2",{class:"text-3xl font-bold text-red-600 mb-6"},"DCVend Location")]),e("div",{id:"map",class:"sm:col-span-6 items-center mx-auto w-11/12 md:w-10/12 h-[30rem]"})],-1)),e("section",oe,[e("div",le,[e("div",ne,[e("table",ae,[t[7]||(t[7]=e("thead",{class:"bg-gray-100 text-gray-700 uppercase text-xs font-semibold"},[e("tr",null,[e("th",{class:"border border-gray-300 px-4 py-3 text-center"},"Name"),e("th",{class:"border border-gray-300 px-4 py-3 text-center"},"Address"),e("th",{class:"border border-gray-300 px-4 py-3 text-center"},"Product Availability")])],-1)),e("tbody",null,[(n(!0),r(F,null,R(i.value,(s,d)=>{var x;return n(),r("tr",{key:s.id,onClick:y=>P(d),class:"cursor-pointer hover:bg-gray-50 transition duration-200"},[e("td",ie,[e("div",de,[e("span",ce,m((x=s.vend)==null?void 0:x.code),1),e("span",me,[e("div",pe,[e("div",null,m(s.name),1),s.is_restricted_access?(n(),r("span",ue,"Restricted Access")):c("",!0)])])])]),e("td",xe,[e("div",ge,[e("span",null,m(s.address.full_address),1),s.address.latitude&&s.address.longitude?(n(),r("a",{key:0,href:`https://www.google.com/maps/search/?api=1&query=${s.address.latitude},${s.address.longitude}`,target:"_blank",rel:"noopener noreferrer",class:"bg-green-300 hover:bg-green-400 px-3 py-2 text-xs text-green-800 flex space-x-1 w-fit rounded shadow font-bold"}," GPS ",8,fe)):c("",!0)])]),e("td",be,[s.vend?(n(),r("span",{key:0,onClick:y=>N(s.vend),class:"text-blue-600 hover:underline"},"Check",8,he)):c("",!0)])],8,re)}),128)),!i.value||i.value.length===0?(n(),r("tr",ye,t[6]||(t[6]=[e("td",{class:"border border-gray-300 px-4 py-2 text-center",colspan:"3"},"No data available",-1)]))):c("",!0)])])])])])]),_:1}),p.value?(n(),z(V,{key:0,vend:u.value,showModal:p.value,timingNow:E.value,onModalClose:j},null,8,["vend","showModal","timingNow"])):c("",!0)],64))}},Ee=q(we,[["__scopeId","data-v-f762ea56"]]);export{Ee as default};
