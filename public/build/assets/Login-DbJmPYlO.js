import{h as I,i as C,v as $,o as u,f as m,T as U,r as N,j as S,c as y,w as p,a as r,u as t,Z as q,t as b,g as k,b as a,k as L,l as x,F as P,d as _,m as V,n as E,e as F}from"./app-D-x25jTd.js";import{A as M}from"./ApplicationLogo-CG4_UCas.js";import{_ as O}from"./GuestLayout-DtzjP4Ob.js";import{_ as v,b as h,a as B}from"./TextInput-Beri2YGW.js";import{P as j}from"./PrimaryButton-ClhWRBks.js";/* empty css                                                                        */import"./_plugin-vue_export-helper-DlAUqK2U.js";const A=["value"],R={__name:"Checkbox",props:{checked:{type:[Array,Boolean],required:!0},value:{default:null}},emits:["update:checked"],setup(l,{emit:f}){const s=f,g=l,c=I({get(){return g.checked},set(d){s("update:checked",d)}});return(d,o)=>C((u(),m("input",{type:"checkbox",value:l.value,"onUpdate:modelValue":o[0]||(o[0]=e=>c.value=e),class:"rounded border-gray-300 text-indigo-600 shadow-sm focus:ring-indigo-500"},null,8,A)),[[$,c.value]])}},D={key:0,class:"mb-4 text-sm font-medium text-green-600"},T=["value"],z={class:"mt-4"},Z={class:"mt-2 grid grid-cols-6 gap-2"},G={class:"block mt-4"},H={class:"flex items-center"},J={class:"mt-4 flex items-center justify-between"},te={__name:"Login",props:{countryOptions:Object,canResetPassword:{type:Boolean},status:{type:String}},setup(l){const f=l,s=U({country_id:"",phone_number:"",passwordParts:["","","","","",""],remember:!1}),g=o=>{if(s.passwordParts[o].length===1&&o<s.passwordParts.length-1){const e=document.getElementById(`password_${o+1}`);e&&e.focus()}else if(s.passwordParts[o].length===0&&o>0){const e=document.getElementById(`password_${o-1}`);e&&e.focus()}},c=()=>{s.post(route("login"),{onFinish:()=>s.reset("password")})},d=N([]);return S(()=>{d.value=f.countryOptions.data,s.country_id=d.value.filter(o=>o.is_default)[0].id}),(o,e)=>(u(),y(O,null,{default:p(()=>[r(t(q),{title:"Log in"}),r(M,{class:"mx-auto mt-14 mb-14 w-32 h-auto"}),l.status?(u(),m("div",D,b(l.status),1)):k("",!0),a("form",{onSubmit:F(c,["prevent"]),class:"space-y-4"},[a("div",null,[r(v,{for:"country_id",value:"Country Code"}),C(a("select",{id:"country_id",class:"mt-1 block w-full select2","onUpdate:modelValue":e[0]||(e[0]=n=>t(s).country_id=n),required:""},[e[3]||(e[3]=a("option",{value:"",disabled:""},"Select Country",-1)),(u(!0),m(P,null,x(d.value,n=>(u(),m("option",{key:n.id,value:n.id},b(n.phone_code)+" ("+b(n.name)+") ",9,T))),128))],512),[[L,t(s).country_id]]),r(h,{class:"mt-2",message:t(s).errors.country_id},null,8,["message"])]),a("div",null,[r(v,{for:"phone_number",value:"Phone Number"}),r(B,{id:"phone_number",type:"text",class:"mt-1 block w-full",modelValue:t(s).phone_number,"onUpdate:modelValue":e[1]||(e[1]=n=>t(s).phone_number=n),required:"",placeholder:"Enter your phone number"},null,8,["modelValue"]),r(h,{class:"mt-2",message:t(s).errors.phone_number},null,8,["message"])]),a("div",z,[r(v,{for:"password",value:"Password (6-digit PIN)"}),a("div",Z,[(u(!0),m(P,null,x(t(s).passwordParts,(n,i)=>(u(),y(B,{key:i,id:"password_"+i,class:"block w-14 text-center px-2 py-3 border rounded-md focus:ring focus:ring-indigo-500 focus:ring-opacity-50",maxlength:"1",modelValue:t(s).passwordParts[i],"onUpdate:modelValue":w=>t(s).passwordParts[i]=w,onInput:w=>g(i),inputmode:"numeric",type:"text",pattern:"[0-9]*",required:"",ref_for:!0,ref:"passwordInputs"},null,8,["id","modelValue","onUpdate:modelValue","onInput"]))),128))]),r(h,{class:"mt-2",message:t(s).errors.passwordParts},null,8,["message"])]),a("div",G,[a("label",H,[r(R,{name:"remember",checked:t(s).remember,"onUpdate:checked":e[2]||(e[2]=n=>t(s).remember=n)},null,8,["checked"]),e[4]||(e[4]=a("span",{class:"ms-2 text-sm text-gray-600"},"Remember me",-1))])]),a("div",J,[r(t(V),{href:o.route("register"),class:"rounded-md text-sm text-gray-600 underline hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"},{default:p(()=>e[5]||(e[5]=[_(" Sign Up? ")])),_:1},8,["href"]),l.canResetPassword?(u(),y(t(V),{key:0,href:o.route("password.request"),class:"rounded-md text-sm text-gray-600 underline hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"},{default:p(()=>e[6]||(e[6]=[_(" Forgot your password? ")])),_:1},8,["href"])):k("",!0),r(j,{class:E(["ms-4",{"opacity-25":t(s).processing}]),disabled:t(s).processing},{default:p(()=>e[7]||(e[7]=[_(" Log in ")])),_:1},8,["class","disabled"])])],32)]),_:1}))}};export{te as default};
